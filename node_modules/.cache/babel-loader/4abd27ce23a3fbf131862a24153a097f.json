{"ast":null,"code":"var _jsxFileName = \"/Users/carsonvache/Documents/CrowdsourcedMedicalImageDatabase/Site/FE/src/containers/Images.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { Tabs, Tab, Image } from 'react-bootstrap';\nimport { API, Storage } from \"aws-amplify\";\nimport { onError } from \"../libs/errorLib\";\nimport './Images.css';\nexport default function Images() {\n  const {\n    id\n  } = useParams();\n  const [image, setImage] = useState(null);\n  const [title, setTitle] = useState(\"\");\n\n  function loadImage() {\n    return API.get(\"notes\", `/images/${id}`);\n  }\n\n  async function onLoad() {\n    try {\n      const image = await loadImage();\n      const {\n        title,\n        imgName\n      } = image;\n      image.attatchmentURL = await Storage.get(imgName, {\n        level: 'protected'\n      });\n      setTitle(title);\n      setImage(image);\n    } catch (e) {\n      onError(e);\n    }\n  }\n\n  console.log(\"id: \" + id);\n  useEffect(() => {\n    console.log('useEffect flag');\n    onLoad();\n  }, [id]);\n  onLoad();\n  console.log(\"image: \" + image);\n\n  if (image != null) {\n    console.log(image.attatchmentURL);\n  }\n\n  console.log(\"rendered\");\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Images\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, title), /*#__PURE__*/React.createElement(Tabs, {\n    defaultActiveKey: \"Image\",\n    id: \"infoTabs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Tab, {\n    eventKey: \"Image\",\n    title: \"Image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: image ? image.attatchmentURL : '#',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Tab, {\n    eventKey: \"tags\",\n    title: \"Tags\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, image ? image.tags : \"no Tags\"), /*#__PURE__*/React.createElement(Tab, {\n    eventKey: \"metadata\",\n    title: \"Metadata\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }\n  }, \"Map of metadata\"))));\n}","map":{"version":3,"sources":["/Users/carsonvache/Documents/CrowdsourcedMedicalImageDatabase/Site/FE/src/containers/Images.js"],"names":["React","useState","useEffect","useParams","Tabs","Tab","Image","API","Storage","onError","Images","id","image","setImage","title","setTitle","loadImage","get","onLoad","imgName","attatchmentURL","level","e","console","log","tags"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,SAASC,IAAT,EAAeC,GAAf,EAAoBC,KAApB,QAAiC,iBAAjC;AACA,SAASC,GAAT,EAAcC,OAAd,QAA6B,aAA7B;AACA,SAASC,OAAT,QAAwB,kBAAxB;AACA,OAAO,cAAP;AAGA,eAAe,SAASC,MAAT,GAAkB;AAC7B,QAAM;AAACC,IAAAA;AAAD,MAAOR,SAAS,EAAtB;AACA,QAAM,CAACS,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAM,CAACa,KAAD,EAAQC,QAAR,IAAoBd,QAAQ,CAAC,EAAD,CAAlC;;AAEA,WAASe,SAAT,GAAqB;AACjB,WAAOT,GAAG,CAACU,GAAJ,CAAQ,OAAR,EAAkB,WAAUN,EAAG,EAA/B,CAAP;AACH;;AAED,iBAAeO,MAAf,GAAwB;AACpB,QAAI;AACA,YAAMN,KAAK,GAAG,MAAMI,SAAS,EAA7B;AACA,YAAM;AAAEF,QAAAA,KAAF;AAASK,QAAAA;AAAT,UAAqBP,KAA3B;AAGAA,MAAAA,KAAK,CAACQ,cAAN,GAAuB,MAAMZ,OAAO,CAACS,GAAR,CAAYE,OAAZ,EAAqB;AAAEE,QAAAA,KAAK,EAAE;AAAT,OAArB,CAA7B;AAGAN,MAAAA,QAAQ,CAACD,KAAD,CAAR;AACAD,MAAAA,QAAQ,CAACD,KAAD,CAAR;AACH,KAVD,CAUE,OAAOU,CAAP,EAAU;AACRb,MAAAA,OAAO,CAACa,CAAD,CAAP;AACH;AACJ;;AAEDC,EAAAA,OAAO,CAACC,GAAR,CAAY,SAASb,EAArB;AACAT,EAAAA,SAAS,CAAC,MAAM;AACZqB,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AAIAN,IAAAA,MAAM;AACT,GANQ,EAMN,CAACP,EAAD,CANM,CAAT;AAQAO,EAAAA,MAAM;AAGNK,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAYZ,KAAxB;;AACA,MAAIA,KAAK,IAAI,IAAb,EAAkB;AACdW,IAAAA,OAAO,CAACC,GAAR,CAAYZ,KAAK,CAACQ,cAAlB;AACH;;AAEDG,EAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACA,sBACI;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKV,KAAL,CADJ,eAEI,oBAAC,IAAD;AAAM,IAAA,gBAAgB,EAAC,OAAvB;AAA+B,IAAA,EAAE,EAAC,UAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,GAAD;AAAK,IAAA,QAAQ,EAAC,OAAd;AAAsB,IAAA,KAAK,EAAC,OAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,KAAD;AAAO,IAAA,GAAG,EAAEF,KAAK,GAAGA,KAAK,CAACQ,cAAT,GAA0B,GAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,eAKI,oBAAC,GAAD;AAAK,IAAA,QAAQ,EAAC,MAAd;AAAqB,IAAA,KAAK,EAAC,MAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKR,KAAK,GAAGA,KAAK,CAACa,IAAT,GAAgB,SAD1B,CALJ,eASI,oBAAC,GAAD;AAAK,IAAA,QAAQ,EAAC,UAAd;AAAyB,IAAA,KAAK,EAAC,UAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADJ,CATJ,CAFJ,CADJ;AAkBH","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { Tabs, Tab, Image } from 'react-bootstrap';\nimport { API, Storage } from \"aws-amplify\";\nimport { onError } from \"../libs/errorLib\";\nimport './Images.css';\n\n\nexport default function Images() {\n    const {id} = useParams();\n    const [image, setImage] = useState(null);\n    const [title, setTitle] = useState(\"\");\n\n    function loadImage() {\n        return API.get(\"notes\", `/images/${id}`);\n    }\n\n    async function onLoad() {\n        try {\n            const image = await loadImage();\n            const { title, imgName } = image;\n            \n            \n            image.attatchmentURL = await Storage.get(imgName, { level: 'protected' });\n            \n\n            setTitle(title);\n            setImage(image);\n        } catch (e) {\n            onError(e);\n        }\n    }\n\n    console.log(\"id: \" + id)\n    useEffect(() => {\n        console.log('useEffect flag')\n        \n        \n\n        onLoad();\n    }, [id]);\n\n    onLoad();\n    \n\n    console.log(\"image: \" + image);\n    if (image != null){\n        console.log(image.attatchmentURL);\n    }\n\n    console.log(\"rendered\")\n    return (\n        <div className='Images'>\n            <h1>{title}</h1>\n            <Tabs defaultActiveKey='Image' id='infoTabs'>\n                <Tab eventKey='Image' title='Image'>\n                    <Image src={image ? image.attatchmentURL : '#'}></Image>\n                </Tab>\n\n                <Tab eventKey='tags' title='Tags'>\n                    {image ? image.tags : \"no Tags\"}\n                </Tab>\n\n                <Tab eventKey='metadata' title='Metadata'>\n                    <h2>Map of metadata</h2>\n                </Tab>\n            </Tabs>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}