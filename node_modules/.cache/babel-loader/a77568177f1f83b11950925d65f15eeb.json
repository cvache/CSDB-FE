{"ast":null,"code":"var _jsxFileName = \"/Users/carsonvache/Documents/CrowdsourcedMedicalImageDatabase/Site/FE/src/containers/context/PhotoContext.js\";\nimport React, { createContext, useState } from 'react';\nimport { API, Storage } from 'aws-amplify';\nexport const PhotoContext = createContext();\n\nconst PhotoContextProvider = props => {\n  const [images, setImages] = useState([]);\n  const [loading, setLoading] = useState(true);\n  console.log(\"Providing context\");\n\n  const runSearch = async query => {\n    const initArr = await API.get(\"notes\", \"/images\");\n\n    for (const img of initArr) {\n      try {\n        //TODO: if query isnt abong list of tags, remove from arr\n        const src = await Storage.get(img.imgName, {\n          level: 'public'\n        });\n        img.src = src;\n      } catch (e) {\n        console.log(\"Error fetching images\", e);\n      }\n    }\n\n    console.log(initArr);\n    setImages(initArr);\n    setLoading(false);\n  };\n\n  console.log(\"context provided\");\n  return /*#__PURE__*/React.createElement(PhotoContext.Provider, {\n    value: {\n      images,\n      loading,\n      runSearch\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }\n  }, props.children);\n};\n\nexport default PhotoContextProvider;","map":{"version":3,"sources":["/Users/carsonvache/Documents/CrowdsourcedMedicalImageDatabase/Site/FE/src/containers/context/PhotoContext.js"],"names":["React","createContext","useState","API","Storage","PhotoContext","PhotoContextProvider","props","images","setImages","loading","setLoading","console","log","runSearch","query","initArr","get","img","src","imgName","level","e","children"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,QAA/B,QAA+C,OAA/C;AACA,SAASC,GAAT,EAAcC,OAAd,QAA6B,aAA7B;AACA,OAAO,MAAMC,YAAY,GAAGJ,aAAa,EAAlC;;AAEP,MAAMK,oBAAoB,GAAGC,KAAK,IAAI;AAClC,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBP,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACQ,OAAD,EAAUC,UAAV,IAAwBT,QAAQ,CAAC,IAAD,CAAtC;AACAU,EAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;;AACA,QAAMC,SAAS,GAAG,MAAMC,KAAN,IAAe;AAC7B,UAAMC,OAAO,GAAG,MAAMb,GAAG,CAACc,GAAJ,CAAQ,OAAR,EAAiB,SAAjB,CAAtB;;AACA,SAAK,MAAMC,GAAX,IAAkBF,OAAlB,EAA2B;AACvB,UAAI;AACA;AACA,cAAMG,GAAG,GAAG,MAAMf,OAAO,CAACa,GAAR,CAAYC,GAAG,CAACE,OAAhB,EAAyB;AAACC,UAAAA,KAAK,EAAE;AAAR,SAAzB,CAAlB;AACAH,QAAAA,GAAG,CAACC,GAAJ,GAAUA,GAAV;AACH,OAJD,CAIE,OAAOG,CAAP,EAAU;AACRV,QAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAqCS,CAArC;AACH;AACJ;;AACDV,IAAAA,OAAO,CAACC,GAAR,CAAYG,OAAZ;AACAP,IAAAA,SAAS,CAACO,OAAD,CAAT;AACAL,IAAAA,UAAU,CAAC,KAAD,CAAV;AACH,GAdD;;AAeAC,EAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACA,sBACI,oBAAC,YAAD,CAAc,QAAd;AAAuB,IAAA,KAAK,EAAE;AAAEL,MAAAA,MAAF;AAAUE,MAAAA,OAAV;AAAmBI,MAAAA;AAAnB,KAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKP,KAAK,CAACgB,QADX,CADJ;AAKH,CAzBD;;AA2BA,eAAejB,oBAAf","sourcesContent":["import React, { createContext, useState } from 'react';\nimport { API, Storage } from 'aws-amplify';\nexport const PhotoContext = createContext();\n\nconst PhotoContextProvider = props => {\n    const [images, setImages] = useState([]);\n    const [loading, setLoading] = useState(true);\n    console.log(\"Providing context\");\n    const runSearch = async query => {\n        const initArr = await API.get(\"notes\", \"/images\");\n        for (const img of initArr) {\n            try {\n                //TODO: if query isnt abong list of tags, remove from arr\n                const src = await Storage.get(img.imgName, {level: 'public'});\n                img.src = src;\n            } catch (e) {\n                console.log(\"Error fetching images\", e);\n            }\n        }\n        console.log(initArr);\n        setImages(initArr);\n        setLoading(false);\n    }\n    console.log(\"context provided\");\n    return (\n        <PhotoContext.Provider value={{ images, loading, runSearch}}>\n            {props.children}\n        </PhotoContext.Provider>\n    );\n};\n\nexport default PhotoContextProvider;"]},"metadata":{},"sourceType":"module"}