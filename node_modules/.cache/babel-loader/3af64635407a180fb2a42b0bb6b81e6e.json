{"ast":null,"code":"var _jsxFileName = \"/Users/carsonvache/Documents/CrowdsourcedMedicalImageDatabase/Site/FE/src/containers/Images.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { Tabs, Tab, Image } from 'react-bootstrap';\nimport { API, Storage } from \"aws-amplify\";\nimport { onError } from \"../libs/errorLib\";\nimport './Images.css';\nexport default function Images() {\n  const {\n    id\n  } = useParams();\n  const [image, setImage] = useState(null);\n  const [title, setTitle] = useState(\"\");\n  console.log(\"id: \" + id);\n  useEffect(() => {\n    console.log('useEffect flag');\n\n    function loadImage() {\n      return API.get(\"notes\", `/images/${id}`);\n    }\n\n    async function onLoad() {\n      try {\n        const image = await loadImage();\n        const {\n          title,\n          imgName\n        } = image;\n        image.attatchmentURL = await Storage.get(imgName, {\n          level: 'protected'\n        });\n        setTitle(title);\n        setImage(image);\n      } catch (e) {\n        onError(e);\n      }\n    }\n\n    onLoad();\n  }, [id]);\n  console.log(\"image: \" + image);\n\n  if (image != null) {\n    console.log(image.attatchmentURL);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ImgSection\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }\n    }, title), /*#__PURE__*/React.createElement(Tabs, {\n      defaultActiveKey: \"Image\",\n      id: \"infoTabs\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Tab, {\n      eventKey: \"Image\",\n      title: \"Image\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Image, {\n      src: \"{image.attatchmentURL}\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Tab, {\n      eventKey: \"tags\",\n      title: \"Tags\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }\n    })));\n  } else {\n    return null;\n  }\n}","map":{"version":3,"sources":["/Users/carsonvache/Documents/CrowdsourcedMedicalImageDatabase/Site/FE/src/containers/Images.js"],"names":["React","useState","useEffect","useParams","Tabs","Tab","Image","API","Storage","onError","Images","id","image","setImage","title","setTitle","console","log","loadImage","get","onLoad","imgName","attatchmentURL","level","e"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,SAASC,IAAT,EAAeC,GAAf,EAAoBC,KAApB,QAAiC,iBAAjC;AACA,SAASC,GAAT,EAAcC,OAAd,QAA6B,aAA7B;AACA,SAASC,OAAT,QAAwB,kBAAxB;AACA,OAAO,cAAP;AAGA,eAAe,SAASC,MAAT,GAAkB;AAC7B,QAAM;AAACC,IAAAA;AAAD,MAAOR,SAAS,EAAtB;AACA,QAAM,CAACS,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAM,CAACa,KAAD,EAAQC,QAAR,IAAoBd,QAAQ,CAAC,EAAD,CAAlC;AAEAe,EAAAA,OAAO,CAACC,GAAR,CAAY,SAASN,EAArB;AACAT,EAAAA,SAAS,CAAC,MAAM;AACZc,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;;AAEA,aAASC,SAAT,GAAqB;AACjB,aAAOX,GAAG,CAACY,GAAJ,CAAQ,OAAR,EAAkB,WAAUR,EAAG,EAA/B,CAAP;AACH;;AAED,mBAAeS,MAAf,GAAwB;AACpB,UAAI;AACA,cAAMR,KAAK,GAAG,MAAMM,SAAS,EAA7B;AACA,cAAM;AAACJ,UAAAA,KAAD;AAAQO,UAAAA;AAAR,YAAmBT,KAAzB;AAGAA,QAAAA,KAAK,CAACU,cAAN,GAAuB,MAAMd,OAAO,CAACW,GAAR,CAAYE,OAAZ,EAAqB;AAAEE,UAAAA,KAAK,EAAE;AAAT,SAArB,CAA7B;AAGAR,QAAAA,QAAQ,CAACD,KAAD,CAAR;AACAD,QAAAA,QAAQ,CAACD,KAAD,CAAR;AACH,OAVD,CAUE,OAAOY,CAAP,EAAU;AACRf,QAAAA,OAAO,CAACe,CAAD,CAAP;AACH;AACJ;;AAEDJ,IAAAA,MAAM;AACT,GAxBQ,EAwBN,CAACT,EAAD,CAxBM,CAAT;AA2BAK,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAYL,KAAxB;;AACA,MAAIA,KAAK,IAAI,IAAb,EAAkB;AACdI,IAAAA,OAAO,CAACC,GAAR,CAAYL,KAAK,CAACU,cAAlB;AACA,wBACI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKR,KAAL,CADJ,eAEI,oBAAC,IAAD;AAAM,MAAA,gBAAgB,EAAC,OAAvB;AAA+B,MAAA,EAAE,EAAC,UAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,GAAD;AAAK,MAAA,QAAQ,EAAC,OAAd;AAAsB,MAAA,KAAK,EAAC,OAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,KAAD;AAAO,MAAA,GAAG,EAAC,wBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,eAII,oBAAC,GAAD;AAAK,MAAA,QAAQ,EAAC,MAAd;AAAqB,MAAA,KAAK,EAAC,MAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,CAFJ,CADJ;AAaH,GAfD,MAeO;AACH,WAAO,IAAP;AACH;AACJ","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { Tabs, Tab, Image } from 'react-bootstrap';\nimport { API, Storage } from \"aws-amplify\";\nimport { onError } from \"../libs/errorLib\";\nimport './Images.css';\n\n\nexport default function Images() {\n    const {id} = useParams();\n    const [image, setImage] = useState(null);\n    const [title, setTitle] = useState(\"\");\n\n    console.log(\"id: \" + id)\n    useEffect(() => {\n        console.log('useEffect flag')\n        \n        function loadImage() {\n            return API.get(\"notes\", `/images/${id}`);\n        }\n\n        async function onLoad() {\n            try {\n                const image = await loadImage();\n                const {title, imgName} = image;\n                \n                \n                image.attatchmentURL = await Storage.get(imgName, { level: 'protected' });\n                \n\n                setTitle(title);\n                setImage(image);\n            } catch (e) {\n                onError(e);\n            }\n        }\n\n        onLoad();\n    }, [id]);\n    \n\n    console.log(\"image: \" + image);\n    if (image != null){\n        console.log(image.attatchmentURL);\n        return (\n            <div className='ImgSection'>\n                <h2>{title}</h2>\n                <Tabs defaultActiveKey='Image' id='infoTabs'>\n                    <Tab eventKey='Image' title='Image'>\n                        <Image src='{image.attatchmentURL}'></Image>\n                    </Tab>\n                    <Tab eventKey='tags' title='Tags'>\n    \n                    </Tab>\n                </Tabs>\n            </div>\n        );\n    } else {\n        return null;\n    }\n}\n\n\n    "]},"metadata":{},"sourceType":"module"}