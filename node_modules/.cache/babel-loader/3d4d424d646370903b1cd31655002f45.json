{"ast":null,"code":"import _regeneratorRuntime from\"/Users/carsonvache/Documents/CrowdsourcedMedicalImageDatabase/Site/FE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/carsonvache/Documents/CrowdsourcedMedicalImageDatabase/Site/FE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/carsonvache/Documents/CrowdsourcedMedicalImageDatabase/Site/FE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{FormGroup,FormControl,ControlLabel}from\"react-bootstrap\";import{Auth}from'aws-amplify';import{onError}from\"../libs/errorLib\";import{useAppContext}from'../libs/contextLib';import{useFormFields}from'../libs/hooksLib';import LoaderButton from'../components/LoaderButton';import'./Login.css';export default function Login(){var _useAppContext=useAppContext(),userHasAuthenticated=_useAppContext.userHasAuthenticated;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useFormFields=useFormFields({email:\"\",password:\"\"}),_useFormFields2=_slicedToArray(_useFormFields,2),fields=_useFormFields2[0],handleFieldChange=_useFormFields2[1];function validateForm(){return fields.email.length>0&&fields.password.length>0;}function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();setIsLoading(true);_context.prev=2;_context.next=5;return Auth.signIn(fields.email,fields.password);case 5:userHasAuthenticated(true);_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](2);onError(_context.t0);setIsLoading(false);case 12:case\"end\":return _context.stop();}}},_callee,null,[[2,8]]);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/React.createElement(\"div\",{className:\"Login\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(FormGroup,{controlId:\"email\",bsSize:\"large\"},/*#__PURE__*/React.createElement(ControlLabel,null,\"Email\"),/*#__PURE__*/React.createElement(FormControl,{autofocus:true,type:\"email\",value:fields.email,onChange:handleFieldChange})),/*#__PURE__*/React.createElement(FormGroup,{controlId:\"password\",bsSize:\"large\"},/*#__PURE__*/React.createElement(ControlLabel,null,\"Password\"),/*#__PURE__*/React.createElement(FormControl,{value:fields.password,onChange:handleFieldChange,type:\"password\"})),/*#__PURE__*/React.createElement(LoaderButton,{block:true,type:\"submit\",bsSize:\"large\",isLoading:isLoading,disabled:!validateForm()},\"Login\")));}","map":{"version":3,"sources":["/Users/carsonvache/Documents/CrowdsourcedMedicalImageDatabase/Site/FE/src/containers/Login.js"],"names":["React","useState","FormGroup","FormControl","ControlLabel","Auth","onError","useAppContext","useFormFields","LoaderButton","Login","userHasAuthenticated","isLoading","setIsLoading","email","password","fields","handleFieldChange","validateForm","length","handleSubmit","event","preventDefault","signIn"],"mappings":"ijBAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,OAASC,SAAT,CAAoBC,WAApB,CAAiCC,YAAjC,KAAoD,iBAApD,CACA,OAAQC,IAAR,KAAmB,aAAnB,CACA,OAAQC,OAAR,KAAsB,kBAAtB,CACA,OAAQC,aAAR,KAA4B,oBAA5B,CACA,OAAQC,aAAR,KAA4B,kBAA5B,CACA,MAAOC,CAAAA,YAAP,KAAyB,4BAAzB,CACA,MAAO,aAAP,CAGA,cAAe,SAASC,CAAAA,KAAT,EAAiB,oBACGH,aAAa,EADhB,CACrBI,oBADqB,gBACrBA,oBADqB,eAEMV,QAAQ,CAAC,KAAD,CAFd,wCAErBW,SAFqB,eAEVC,YAFU,kCAGQL,aAAa,CAAC,CAC9CM,KAAK,CAAE,EADuC,CAE9CC,QAAQ,CAAE,EAFoC,CAAD,CAHrB,kDAGrBC,MAHqB,oBAGbC,iBAHa,oBAU5B,QAASC,CAAAA,YAAT,EAAwB,CACpB,MAAOF,CAAAA,MAAM,CAACF,KAAP,CAAaK,MAAb,CAAsB,CAAtB,EAA2BH,MAAM,CAACD,QAAP,CAAgBI,MAAhB,CAAyB,CAA3D,CACH,CAZ2B,QAcbC,CAAAA,YAda,gJAc5B,iBAA4BC,KAA5B,kHACIA,KAAK,CAACC,cAAN,GAEAT,YAAY,CAAC,IAAD,CAAZ,CAHJ,sCAMcR,CAAAA,IAAI,CAACkB,MAAL,CAAYP,MAAM,CAACF,KAAnB,CAA0BE,MAAM,CAACD,QAAjC,CANd,QAOQJ,oBAAoB,CAAC,IAAD,CAApB,CAPR,+EASQL,OAAO,aAAP,CACAO,YAAY,CAAC,KAAD,CAAZ,CAVR,oEAd4B,+CA4B5B,mBACI,2BAAK,SAAS,CAAC,OAAf,eACI,4BAAM,QAAQ,CAAEO,YAAhB,eACI,oBAAC,SAAD,EAAW,SAAS,CAAC,OAArB,CAA6B,MAAM,CAAC,OAApC,eACI,oBAAC,YAAD,cADJ,cAEI,oBAAC,WAAD,EACI,SAAS,KADb,CAEI,IAAI,CAAC,OAFT,CAGI,KAAK,CAAEJ,MAAM,CAACF,KAHlB,CAII,QAAQ,CAAEG,iBAJd,EAFJ,CADJ,cAUI,oBAAC,SAAD,EAAW,SAAS,CAAC,UAArB,CAAgC,MAAM,CAAC,OAAvC,eACI,oBAAC,YAAD,iBADJ,cAEI,oBAAC,WAAD,EACI,KAAK,CAAED,MAAM,CAACD,QADlB,CAEI,QAAQ,CAAEE,iBAFd,CAGI,IAAI,CAAC,UAHT,EAFJ,CAVJ,cAkBI,oBAAC,YAAD,EACI,KAAK,KADT,CAEI,IAAI,CAAC,QAFT,CAGI,MAAM,CAAC,OAHX,CAII,SAAS,CAAEL,SAJf,CAKI,QAAQ,CAAE,CAACM,YAAY,EAL3B,UAlBJ,CADJ,CADJ,CAgCH","sourcesContent":["import React, {useState} from 'react';\nimport  {FormGroup, FormControl, ControlLabel} from \"react-bootstrap\";\nimport {Auth} from 'aws-amplify';\nimport {onError} from \"../libs/errorLib\";\nimport {useAppContext} from '../libs/contextLib';\nimport {useFormFields} from '../libs/hooksLib';\nimport LoaderButton from '../components/LoaderButton';\nimport './Login.css';\n\n\nexport default function Login() {\n    const {userHasAuthenticated} = useAppContext();\n    const [isLoading, setIsLoading] = useState(false);\n    const [fields, handleFieldChange] = useFormFields({\n        email: \"\",\n        password: \"\"\n    });\n\n    \n\n    function validateForm() {\n        return fields.email.length > 0 && fields.password.length > 0;\n    }\n\n    async function handleSubmit(event) {\n        event.preventDefault();\n\n        setIsLoading(true);\n\n        try {\n            await Auth.signIn(fields.email, fields.password);\n            userHasAuthenticated(true);\n        } catch (e) {\n            onError(e);\n            setIsLoading(false);\n        }\n    }\n\n    return (\n        <div className=\"Login\">\n            <form onSubmit={handleSubmit}>\n                <FormGroup controlId='email' bsSize='large'>\n                    <ControlLabel>Email</ControlLabel>\n                    <FormControl\n                        autofocus\n                        type='email'\n                        value={fields.email}\n                        onChange={handleFieldChange}\n                    />\n                </FormGroup>\n                <FormGroup controlId='password' bsSize='large'>\n                    <ControlLabel>Password</ControlLabel>\n                    <FormControl\n                        value={fields.password}\n                        onChange={handleFieldChange}\n                        type=\"password\"\n                    />\n                </FormGroup>\n                <LoaderButton \n                    block \n                    type='submit'\n                    bsSize='large' \n                    isLoading={isLoading}\n                    disabled={!validateForm()}\n                >\n                    Login\n                </LoaderButton>\n            </form>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}