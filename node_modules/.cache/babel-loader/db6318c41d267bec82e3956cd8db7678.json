{"ast":null,"code":"import React, { createContext, useState } from 'react';\nimport { API, Storage } from 'aws-amplify';\nimport { onError } from '../libs/errorLib';\nexport const PhotoContext = createContext();\n\nconst PhotoContextProvider = props => {\n  const [images, setImages] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  const runSearch = async query => {\n    const initArr = await API.get(\"notes\", \"/images\");\n\n    for (const img of initArr) {\n      try {\n        const src = await Storage.get(img.imgName, {\n          level: 'public'\n        });\n        img.src = src;\n      } catch (e) {\n        onError(e);\n      }\n    }\n\n    return initArr;\n  };\n};","map":{"version":3,"sources":["/Users/carsonvache/Documents/CrowdsourcedMedicalImageDatabase/Site/FE/src/containers/context/PhotoContext.js"],"names":["React","createContext","useState","API","Storage","onError","PhotoContext","PhotoContextProvider","props","images","setImages","loading","setLoading","runSearch","query","initArr","get","img","src","imgName","level","e"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,QAA/B,QAA+C,OAA/C;AACA,SAASC,GAAT,EAAcC,OAAd,QAA6B,aAA7B;AACA,SAASC,OAAT,QAAwB,kBAAxB;AACA,OAAO,MAAMC,YAAY,GAAGL,aAAa,EAAlC;;AAEP,MAAMM,oBAAoB,GAAGC,KAAK,IAAI;AAClC,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBR,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACS,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAC,IAAD,CAAtC;;AACA,QAAMW,SAAS,GAAG,MAAMC,KAAN,IAAe;AAC7B,UAAMC,OAAO,GAAG,MAAMZ,GAAG,CAACa,GAAJ,CAAQ,OAAR,EAAiB,SAAjB,CAAtB;;AACA,SAAK,MAAMC,GAAX,IAAkBF,OAAlB,EAA2B;AACvB,UAAI;AACA,cAAMG,GAAG,GAAG,MAAMd,OAAO,CAACY,GAAR,CAAYC,GAAG,CAACE,OAAhB,EAAyB;AAACC,UAAAA,KAAK,EAAE;AAAR,SAAzB,CAAlB;AACAH,QAAAA,GAAG,CAACC,GAAJ,GAAUA,GAAV;AACH,OAHD,CAGE,OAAOG,CAAP,EAAU;AACRhB,QAAAA,OAAO,CAACgB,CAAD,CAAP;AACH;AAGJ;;AACD,WAAON,OAAP;AACH,GAbD;AAcH,CAjBD","sourcesContent":["import React, { createContext, useState } from 'react';\nimport { API, Storage } from 'aws-amplify';\nimport { onError } from '../libs/errorLib';\nexport const PhotoContext = createContext();\n\nconst PhotoContextProvider = props => {\n    const [images, setImages] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const runSearch = async query => {\n        const initArr = await API.get(\"notes\", \"/images\");\n        for (const img of initArr) {\n            try {\n                const src = await Storage.get(img.imgName, {level: 'public'});\n                img.src = src;\n            } catch (e) {\n                onError(e);\n            }\n            \n            \n        }\n        return initArr;\n    }\n}"]},"metadata":{},"sourceType":"module"}