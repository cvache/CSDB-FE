{"ast":null,"code":"var _jsxFileName = \"/Users/carsonvache/Documents/CrowdsourcedMedicalImageDatabase/Site/FE/src/containers/DownloadImages.js\";\nimport React, { useState, useEffect } from 'react';\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport { ListGroupItem, PageHeader, ListGroup } from \"react-bootstrap\";\nimport { useAppContext } from \"../libs/contextLib\";\nimport \"./DownloadImages.css\";\nimport { onError } from '../libs/errorLib';\nexport default function DownloadImages() {\n  const [images, setImages] = useState([]);\n  const {\n    isAuthenticated\n  } = useAppContext();\n  const [isLoading, setIsLoading] = useState(true);\n  useEffect(() => {\n    async function onLoad() {\n      if (!isAuthenticated) {\n        return;\n      }\n\n      try {\n        const images = await loadImages();\n        setImages(images);\n      } catch (e) {\n        onError(e);\n      }\n\n      setIsLoading(false);\n    }\n\n    onLoad();\n  }, [isAuthenticated]);\n\n  function renderPhotosList(images) {\n    return [{}].concat(images).map((image, i) => /*#__PURE__*/React.createElement(LinkContainer, {\n      key: image.noteId,\n      to: `/image/${image.imgId}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(ListGroupItem, {\n      header: image.content.trim().split(\"\\n\")[0],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }\n    }, \"Created: \" + new Date(image.createdAt).toLocaleString())));\n  }\n\n  function renderPhotos() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"photos\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(PageHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }\n    }, \"Images\"), /*#__PURE__*/React.createElement(ListGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }\n    }, !isLoading && renderPhotosList(images)));\n  }\n\n  return renderPhotos;\n}","map":{"version":3,"sources":["/Users/carsonvache/Documents/CrowdsourcedMedicalImageDatabase/Site/FE/src/containers/DownloadImages.js"],"names":["React","useState","useEffect","LinkContainer","ListGroupItem","PageHeader","ListGroup","useAppContext","onError","DownloadImages","images","setImages","isAuthenticated","isLoading","setIsLoading","onLoad","loadImages","e","renderPhotosList","concat","map","image","i","noteId","imgId","content","trim","split","Date","createdAt","toLocaleString","renderPhotos"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,aAAT,QAA8B,wBAA9B;AACA,SAASC,aAAT,EAAwBC,UAAxB,EAAoCC,SAApC,QAAqD,iBAArD;AACA,SAASC,aAAT,QAA8B,oBAA9B;AACA,OAAO,sBAAP;AACA,SAASC,OAAT,QAAwB,kBAAxB;AAGA,eAAe,SAASC,cAAT,GAA0B;AACrC,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBV,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM;AAACW,IAAAA;AAAD,MAAoBL,aAAa,EAAvC;AACA,QAAM,CAACM,SAAD,EAAYC,YAAZ,IAA4Bb,QAAQ,CAAC,IAAD,CAA1C;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZ,mBAAea,MAAf,GAAwB;AACpB,UAAG,CAACH,eAAJ,EAAqB;AACjB;AACH;;AAED,UAAI;AACA,cAAMF,MAAM,GAAG,MAAMM,UAAU,EAA/B;AACAL,QAAAA,SAAS,CAACD,MAAD,CAAT;AACH,OAHD,CAGE,OAAOO,CAAP,EAAU;AACRT,QAAAA,OAAO,CAACS,CAAD,CAAP;AACH;;AAEDH,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACH;;AAEDC,IAAAA,MAAM;AACT,GAjBQ,EAiBN,CAACH,eAAD,CAjBM,CAAT;;AAmBA,WAASM,gBAAT,CAA0BR,MAA1B,EAAkC;AAC9B,WAAO,CAAC,EAAD,EAAKS,MAAL,CAAYT,MAAZ,EAAoBU,GAApB,CAAwB,CAACC,KAAD,EAAQC,CAAR,kBAC7B,oBAAC,aAAD;AAAe,MAAA,GAAG,EAAED,KAAK,CAACE,MAA1B;AAAkC,MAAA,EAAE,EAAG,UAASF,KAAK,CAACG,KAAM,EAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,aAAD;AAAe,MAAA,MAAM,EAAEH,KAAK,CAACI,OAAN,CAAcC,IAAd,GAAqBC,KAArB,CAA2B,IAA3B,EAAiC,CAAjC,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,cAAc,IAAIC,IAAJ,CAASP,KAAK,CAACQ,SAAf,EAA0BC,cAA1B,EADjB,CADF,CADK,CAAP;AAOH;;AAED,WAASC,YAAT,GAAwB;AACpB,wBACI;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,CAAClB,SAAD,IAAcK,gBAAgB,CAACR,MAAD,CADnC,CAFJ,CADJ;AASH;;AAID,SACIqB,YADJ;AAGH","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport { ListGroupItem, PageHeader, ListGroup } from \"react-bootstrap\";\nimport { useAppContext } from \"../libs/contextLib\";\nimport \"./DownloadImages.css\";\nimport { onError } from '../libs/errorLib';\n\n\nexport default function DownloadImages() {\n    const [images, setImages] = useState([]);\n    const {isAuthenticated} = useAppContext();\n    const [isLoading, setIsLoading] = useState(true);\n\n    useEffect(() => {\n        async function onLoad() {\n            if(!isAuthenticated) {\n                return;\n            }\n\n            try {\n                const images = await loadImages();\n                setImages(images);\n            } catch (e) {\n                onError(e);\n            }\n\n            setIsLoading(false);\n        }\n\n        onLoad();\n    }, [isAuthenticated]);\n\n    function renderPhotosList(images) {\n        return [{}].concat(images).map((image, i) =>\n          <LinkContainer key={image.noteId} to={`/image/${image.imgId}`}>\n            <ListGroupItem header={image.content.trim().split(\"\\n\")[0]}>\n              {\"Created: \" + new Date(image.createdAt).toLocaleString()}\n            </ListGroupItem>\n          </LinkContainer>\n        )\n    }\n\n    function renderPhotos() {\n        return (\n            <div className='photos'>\n                <PageHeader>Images</PageHeader>\n                <ListGroup>\n                    {!isLoading && renderPhotosList(images)}\n                </ListGroup>\n\n            </div>\n        )\n    }\n    \n    \n    \n    return (\n        renderPhotos\n    );\n}"]},"metadata":{},"sourceType":"module"}