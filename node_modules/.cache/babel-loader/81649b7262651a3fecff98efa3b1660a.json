{"ast":null,"code":"var _jsxFileName = \"/Users/carsonvache/Documents/CrowdsourcedMedicalImageDatabase/Site/FE/src/containers/ImageDisplay.js\";\nimport React, { useEffect, useState } from 'react';\nimport { Image, Col, Row } from 'react-bootstrap';\nimport { Storage } from 'aws-amplify';\nimport { onError } from '../libs/errorLib';\nexport default function ImageDisplay(props) {\n  /*props.images should be formatted as follows\n  [\n      {\n          src: imgName, #for loading the image from S3\n          imgID: id, #For loading the image data/redirection\n          tags: [\n              tag1,\n              tag2\n              ]\n       },\n  ]\n  */\n  const [images, setImages] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [toRender, setToRender] = useState(0);\n  const [rows, setRows] = useState(0);\n  useEffect(() => {\n    async function onLoad() {\n      setImages(props.images);\n      console.log(\"Loaded images\");\n\n      try {\n        images.forEach(async item => {\n          console.log(\"Getting image\");\n          item.src = await Storage.get(item.imageName, {\n            level: 'public'\n          });\n        });\n      } catch (e) {\n        onError(e);\n      }\n\n      setToRender(images.length);\n      setRows(Math.ceil(toRender / 5));\n      setIsLoading(false);\n    }\n\n    onLoad();\n  });\n  const imgList = [];\n  console.log(\"Att render\");\n  console.log(toRender);\n  console.log(rows);\n\n  for (var i = 0; i < rows; i++) {\n    imgList[i] = [];\n  }\n\n  for (var arrayLoop = 0; arrayLoop < rows; arrayLoop++) {\n    for (var innerLoop = 0; innerLoop < 5; innerLoop++) {\n      imgList[arrayLoop].push(images.pop());\n    }\n  }\n\n  async function getImgSrc(imgName) {\n    return await Storage.get(imgName, {\n      level: 'public'\n    });\n  } //5 images (full)\n\n\n  function renderRow(images, i) {\n    console.log(\"att 5\");\n    console.log(images[0]);\n    console.log(images[0].src);\n    return /*#__PURE__*/React.createElement(Row, {\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      key: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Image, {\n      src: getImgSrc(images[0].imgName),\n      alt: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 30\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      key: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Image, {\n      src: images[1] ? images[1].src : '#',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 30\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      key: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Image, {\n      src: images[2].src,\n      alt: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 30\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      key: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Image, {\n      src: images[3].src,\n      alt: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 30\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      key: \"5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Image, {\n      src: images[4].src,\n      alt: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 30\n      }\n    })));\n  } //4\n\n\n  function renderRowFour(images, i) {\n    console.log(\"att 4\");\n    return /*#__PURE__*/React.createElement(Row, {\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Image, {\n      src: images[0].src,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 22\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Image, {\n      src: images[1].src,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 22\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Image, {\n      src: images[2].src,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 22\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Image, {\n      src: images[3].src,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 22\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }\n    }));\n  } //3\n\n\n  function renderRowThree(images, i) {\n    console.log(\"att 3\");\n    return /*#__PURE__*/React.createElement(Row, {\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Image, {\n      src: images[0].src,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 22\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Image, {\n      src: images[1].src,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 22\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Image, {\n      src: images[2].src,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 22\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    }));\n  } //2\n\n\n  function renderRowTwo(images, i) {\n    console.log(\"att 2\");\n    return /*#__PURE__*/React.createElement(Row, {\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Image, {\n      src: images[0].src,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 22\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Image, {\n      src: images[1].src,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 22\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }));\n  } //1\n\n\n  function renderRowOne(images, i) {\n    console.log(\"att 1\");\n    return /*#__PURE__*/React.createElement(Row, {\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Image, {\n      src: images[0].src,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 22\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }\n    }));\n  }\n\n  function renderLast() {\n    switch (images.length) {\n      case 4:\n        renderRowFour();\n        break;\n\n      case 3:\n        renderRowThree();\n        break;\n\n      case 2:\n        renderRowTwo();\n        break;\n\n      case 1:\n        renderRowOne();\n        break;\n\n      default:\n        return null;\n    }\n  }\n\n  function renderFull() {\n    const buffer = [];\n\n    for (var i = 0; i < rows; i++) {\n      console.log(\"Rendering a full row!\");\n      buffer.push(renderRow(imgList[i]), i);\n    }\n\n    buffer.push(renderLast());\n    console.log(\"Done rendering\");\n    console.log(buffer);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 13\n      }\n    }, buffer);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 5\n    }\n  }, isLoading && renderFull());\n}","map":{"version":3,"sources":["/Users/carsonvache/Documents/CrowdsourcedMedicalImageDatabase/Site/FE/src/containers/ImageDisplay.js"],"names":["React","useEffect","useState","Image","Col","Row","Storage","onError","ImageDisplay","props","images","setImages","isLoading","setIsLoading","toRender","setToRender","rows","setRows","onLoad","console","log","forEach","item","src","get","imageName","level","e","length","Math","ceil","imgList","i","arrayLoop","innerLoop","push","pop","getImgSrc","imgName","renderRow","renderRowFour","renderRowThree","renderRowTwo","renderRowOne","renderLast","renderFull","buffer"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Image, Col, Row } from 'react-bootstrap';\nimport { Storage } from 'aws-amplify';\nimport { onError } from '../libs/errorLib';\n\n\n\nexport default function ImageDisplay(props) {\n    /*props.images should be formatted as follows\n    [\n        {\n            src: imgName, #for loading the image from S3\n            imgID: id, #For loading the image data/redirection\n            tags: [\n                tag1,\n                tag2\n                ]\n\n        },\n    ]\n    */\n   const [images, setImages] = useState([]);\n   const [isLoading, setIsLoading] = useState(true);\n   const [toRender, setToRender] = useState(0);\n   const [rows, setRows] = useState(0);\n\n    useEffect(() => {\n        async function onLoad() {\n            setImages(props.images)\n            console.log(\"Loaded images\")\n            \n            try {\n                images.forEach(async item => {\n                    console.log(\"Getting image\");\n                    item.src = await Storage.get(item.imageName, { level: 'public' });\n                });\n            } catch (e) {\n                onError(e);\n            }\n            setToRender(images.length);\n            setRows(Math.ceil(toRender/5));\n            setIsLoading(false);\n        }\n\n        onLoad();\n    });\n\n\n    const imgList = [];\n\n    console.log(\"Att render\");\n    console.log(toRender);\n    console.log(rows);\n\n    for (var i = 0; i < rows; i++) {\n       imgList[i] = [];\n    }\n\n    for (var arrayLoop = 0; arrayLoop < rows; arrayLoop++) {\n       for (var innerLoop = 0; innerLoop < 5; innerLoop++) {\n            imgList[arrayLoop].push(images.pop());\n       }\n    }\n\n\n    async function getImgSrc(imgName) {\n       return await Storage.get(imgName, { level: 'public' });\n    }\n\n   //5 images (full)\n   function renderRow(images, i) {\n        console.log(\"att 5\");\n        console.log(images[0]);\n        console.log(images[0].src);\n       \n        return (\n            <Row key={i}>\n                <Col key='1'><Image src={getImgSrc(images[0].imgName)} alt='#'/></Col>\n                <Col key='2'><Image src={images[1] ? images[1].src : '#'}/></Col>\n                <Col key='3'><Image src={images[2].src} alt='#'/></Col>\n                <Col key='4'><Image src={images[3].src} alt='#' /></Col>\n                <Col key='5'><Image src={images[4].src} alt='#'/></Col>\n            </Row>\n       );\n    }\n   //4\n    function renderRowFour(images, i) {\n        console.log(\"att 4\");\n\n        return (\n            <Row key={i}>\n                <Col><Image src={images[0].src} /></Col>\n                <Col><Image src={images[1].src} /></Col>\n                <Col><Image src={images[2].src} /></Col>\n                <Col><Image src={images[3].src} /></Col>\n                <Col></Col>\n            </Row>\n        );\n    }\n    //3\n    function renderRowThree(images, i) {\n        console.log(\"att 3\");\n\n        return (\n            <Row key={i}>\n                <Col><Image src={images[0].src} /></Col>\n                <Col><Image src={images[1].src} /></Col>\n                <Col><Image src={images[2].src} /></Col>\n                <Col></Col>\n                <Col></Col>\n            </Row>\n        );\n    }\n    //2\n    function renderRowTwo(images, i) {\n        console.log(\"att 2\");\n\n        return (\n            <Row key={i}>\n                <Col><Image src={images[0].src} /></Col>\n                <Col><Image src={images[1].src} /></Col>\n                <Col></Col>\n                <Col></Col>\n                <Col></Col>\n            </Row>\n        );\n    }\n    //1\n    function renderRowOne(images, i) {\n        console.log(\"att 1\");\n\n        return (\n            <Row key={i}>\n                <Col><Image src={images[0].src} /></Col>\n                <Col></Col>\n                <Col></Col>\n                <Col></Col>\n                <Col></Col>\n            </Row>\n        );\n    }\n\n    function renderLast() {\n        switch(images.length) {\n            case 4:\n                renderRowFour();\n                break;\n            case 3:\n                renderRowThree();\n                break;\n            case 2:\n                renderRowTwo();\n                break;\n            case 1: \n                renderRowOne();\n                break;\n            default:\n                return null;\n            \n        }\n    }\n\n    function renderFull() {\n        const buffer = [];\n        for (var i = 0; i < rows; i++){\n            console.log(\"Rendering a full row!\")\n            buffer.push(renderRow(imgList[i]), i);\n        }\n        buffer.push(renderLast());\n        console.log(\"Done rendering\");\n        console.log(buffer);\n        return (\n            <div>\n               {buffer}\n            </div>\n       )\n    }\n\n    \n\n       \n    return (\n    <div>\n        {isLoading && renderFull()}\n    </div>\n    );\n   \n\n\n\n\n}"]},"metadata":{},"sourceType":"module"}